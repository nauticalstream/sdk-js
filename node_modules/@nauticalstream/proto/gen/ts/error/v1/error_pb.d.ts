// @generated by protoc-gen-es v2.11.0
// @generated from file error/v1/error.proto (package error.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";
import type { ErrorCode, ErrorSeverity, ResourceType } from "./codes_pb";
import type { Timestamp } from "@bufbuild/protobuf/wkt";

/**
 * Describes the file error/v1/error.proto.
 */
export declare const file_error_v1_error: GenFile;

/**
 * *
 * Error
 * Unified error message used across all transports (GraphQL, MQTT, WebSocket, HTTP)
 * Single source of truth for error handling across the entire system
 *
 * Usage:
 * - GraphQL: Include in error extensions
 * - MQTT: Publish to user/{userId}/errors topic
 * - WebSocket: Send via realtime gateway subscription
 * - HTTP: Return in error response body
 *
 * Allows frontend to:
 * - Remove failed optimistic messages by optimistic_id
 * - Determine retry strategy based on severity
 * - Display user-friendly error messages
 * - Track errors for analytics
 *
 * @generated from message error.v1.Error
 */
export declare type Error = Message<"error.v1.Error"> & {
  /**
   * *
   * Correlation ID for request tracing across all logs
   * Same as correlationId from original request
   * Allows matching errors to requests in logs and monitoring
   *
   * @generated from field: string correlation_id = 1;
   */
  correlationId: string;

  /**
   * *
   * CRITICAL: Optimistic message ID
   * Frontend uses this to find and remove the temporary optimistic UI message
   * When set, client removes message with this optimistic_id from local state
   * Only set for message/operation-specific errors
   *
   * @generated from field: string optimistic_id = 2;
   */
  optimisticId: string;

  /**
   * *
   * Standard error code for machine-readable handling
   * Hierarchical ranges indicate severity and category
   * Allows client to:
   *   - Determine retry strategy
   *   - Display appropriate UI (error alert, toast, inline message)
   *   - Route to appropriate error handler
   *
   * @generated from field: error.v1.ErrorCode code = 3;
   */
  code: ErrorCode;

  /**
   * *
   * Error severity level
   * Tells client whether error is retryable
   *   - CLIENT_ERROR: Don't retry (invalid input, permissions, etc.)
   *   - RETRYABLE: Safe to retry (temporary service issues)
   *   - FATAL: Permanent failure (don't retry)
   *
   * @generated from field: error.v1.ErrorSeverity severity = 4;
   */
  severity: ErrorSeverity;

  /**
   * *
   * Human-readable error message for display to user
   * Should be user-friendly, not technical
   * Examples:
   *   - "You don't have permission to send messages in this conversation"
   *   - "This conversation no longer exists"
   *   - "Please try again in a moment"
   *
   * @generated from field: string message = 5;
   */
  message: string;

  /**
   * *
   * Type of resource that failed (message, conversation, participant, etc.)
   * Provides context about what the error relates to
   *
   * @generated from field: error.v1.ResourceType resource_type = 6;
   */
  resourceType: ResourceType;

  /**
   * *
   * ID of the resource that failed (conversationId, messageId, etc.)
   * Optional - may not be present for all error types
   *
   * @generated from field: string resource_id = 7;
   */
  resourceId: string;

  /**
   * *
   * Timestamp when error occurred (server time)
   * Useful for:
   *   - Client-side error deduplication
   *   - Timeline reconstruction in logs
   *   - Error correlation across systems
   *
   * @generated from field: google.protobuf.Timestamp timestamp = 8;
   */
  timestamp?: Timestamp;

  /**
   * *
   * Retry hint for rate limiting
   * When code is RATE_LIMIT_EXCEEDED, tells client how long to wait before retrying
   * In seconds. Example: 60 means "retry after 60 seconds"
   * Only set when severity is RETRYABLE
   *
   * @generated from field: optional int32 retry_after_seconds = 9;
   */
  retryAfterSeconds?: number;
};

/**
 * Describes the message error.v1.Error.
 * Use `create(ErrorSchema)` to create a new message.
 */
export declare const ErrorSchema: GenMessage<Error>;

